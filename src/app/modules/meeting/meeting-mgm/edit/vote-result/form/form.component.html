<div class="flex flex-col h-full" >
    <mat-toolbar matDialogTitle class="mat-accent m-0">
        <mat-toolbar-row clas="flex flex-row w-full">
            <span class="title dialog-title flex-1">{{dialogTitle}}</span>
            <button class="items-end" type="button" mat-icon-button (click)="close()" aria-label="Close dialog">
                <mat-icon class="icon-size-5 cursor-pointer material-symbols-outlined">close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>
    <div mat-dialog-content class="p-4 m-0 flex-1 flex flex-col">
        <div class="relative flex flex-col gap-4 sm:flex-row flex-0 sm:items-center sm:justify-end pt-4 pr-2 ">
            <div *ngIf="(datas$ | async) as datas" ><button *ngIf="datas.length > 0" type="button" (click)="export()" mat-raised-button color="primary" class="mb-4"> Export Data </button></div>
        </div>
        <div class="flex flex-auto overflow-hidden mt-4 relative">
          
            <div class="flex flex-col flex-auto mb-0 overflow-y-auto">
                <ng-container *ngIf="(datas$ | async) as datas">
                    <ng-container *ngIf="datas.length > 0; else noDatas">
                        <div class="grid ">
                            <div class="z-10 sticky top-0 grid  grid-cols-[minmax(200px,_1fr),60px,60px,60px,90px,minmax(150px,_1fr),120px] gap-4 py-2 px-6 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5" >
                                <div>
                                    Name
                                </div>
                                <div class="text-center">
                                    Agree
                                </div>
                                <div class="text-center">
                                    Disagress
                                </div>
                                <div class="text-center">
                                    No Vote
                                </div>
                                <div class="text-center">
                                    Not Response
                                </div>
                                <div >Remark</div>
                                <div class="text-center">Date</div>
                               
                            </div>
                            <ng-container *ngFor="let data of datas">
                                <div class="grid-cols-[minmax(200px,_1fr),60px,60px,60px,90px,minmax(150px,_1fr),120px] grid items-center gap-4 w-full py-2 px-6  border-b">
                                    <div>
                                       {{data.name}}
                                    </div>
                                    <div class="text-center">
                                        <mat-icon *ngIf="data.vote === 1" class="text-green-400 icon-size-5 material-symbols-outlined">check</mat-icon>
                                    </div>
                                    <div class="text-center">
                                        <mat-icon *ngIf="data.vote === -1" class="text-green-400 icon-size-5 material-symbols-outlined">check</mat-icon>
                                    </div>
                                    <div class="text-center">
                                        <mat-icon *ngIf="data.vote === 0" class="text-green-400 icon-size-5 material-symbols-outlined">check</mat-icon>
                                    </div>
                                    <div class="text-center">
                                        <mat-icon  *ngIf="data.vote === null"class="text-green-400 icon-size-5 material-symbols-outlined">check</mat-icon>
                                    </div>
                                    <div class="break-words">
                                        {{data.remark}}
                                    </div>
                                    <div >
                                        <span *ngIf="data.vote !== null">{{data.createdDate | date : 'dd/MM/yyyy HH:mm'}}</span>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </ng-container>
                <ng-template #noDatas>
                    <div class="p-8  border-t font-semibold tracking-tight text-center">Record not found!</div>
                </ng-template>
            </div>
        </div>
    </div>
</div>
